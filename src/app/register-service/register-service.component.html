<app-nav [titulo]="'Registro'" [subtitulo]="'LLena el formulario para crear un nuevo registo'"></app-nav>
<div class="container">
    <form [formGroup]="servicioForm" (ngSubmit)="onSubmit()" class="p-4 rounded">

      <!-- Paso 1: Datos del cliente -->
      <div *ngIf="pasoActual === 1" class="container bg-light p-3 rounded-4">
        <h5 class="text-center mb-4">Datos del cliente</h5>

        <div class="mb-3">
          <label>Nombre</label>
          <input type="text" formControlName="nombre" class="form-control" placeholder="Nombre del cliente" />
        </div>

        <div class="mb-3">
          <label>RUT</label>
          <input type="text" formControlName="rut" class="form-control" placeholder="10.123.456-7" />
        </div>

        <div class="mb-3">
          <label>Contacto</label>
          <input type="number" formControlName="contacto" class="form-control" placeholder="987654321" />
        </div>
      </div>

      <!-- Paso 2: Datos del servicio -->
      <div *ngIf="pasoActual === 2" class="container bg-light p-3 rounded-4">
        <h5 class="text-center mb-4">Datos del servicio</h5>

        <div class="mb-3">
          <label>Tipo de Servicio</label>
          <select formControlName="tipoServicio" class="form-select" title="Tipo de Servicio">
            <option value="" disabled>Seleccione un tipo de servicio</option>
            <option value="garantia">Garantía</option>
            <option value="reparacion">Reparación</option>
            <option value="revision">Revisión</option>
            <option value="otro">Otro</option>
          </select>
        </div>

        <div class="mb-3">
          <label for="tipoDispositivoSelect">Tipo de dispositivo</label>
          <select id="tipoDispositivoSelect" formControlName="tipoDispositivo" class="form-select">
            <option value="" disabled>Seleccione un dispositivo</option>
            <option value="movil">Móvil</option>
            <option value="tablet">Tablet</option>
            <option value="otro">Otro</option>
          </select>
        </div>

        <div class="mb-3">
          <label>Fecha de ingreso</label>
          <input type="date" formControlName="fechaIngreso" class="form-control" placeholder="Seleccione la fecha de ingreso" title="Fecha de ingreso" />
        </div>
      </div>

      <!-- Paso 3: Valor -->
      <div *ngIf="pasoActual === 3" class="container bg-light p-3 rounded-4">
        <h5 class="text-center mb-4">Valor</h5>

        <div class="mb-3">
          <label>Precio</label>
          <input type="number" formControlName="valor" class="form-control" placeholder="$10.000" />
        </div>

        <div class="mb-3">
          <label>Diagnóstico / Detalles</label>
          <textarea formControlName="detalles" rows="3" class="form-control" placeholder="Detalles"></textarea>
        </div>
      </div>

      <!-- Botones -->
      <div class="row mt-4">
        <div class="col-6">
          <button type="button" class="btn btn-secondary w-100" (click)="pasoAnterior()" [disabled]="pasoActual === 1">
            Anterior
          </button>
        </div>
        <div class="col-6">
          <button *ngIf="pasoActual < 3" type="button" class="btn btn-siguiente w-100" (click)="siguientePaso()">
            Siguiente
          </button>
          <button *ngIf="pasoActual === 3" type="submit" class="btn btn-success w-100">
            Registrar Servicio
          </button>
        </div>
      </div>
    </form>
  </div>  
